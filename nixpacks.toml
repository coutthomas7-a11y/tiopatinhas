# Nixpacks Configuration for Railway Workers
# This forces npm install instead of npm ci (which fails with outdated lock files)

[phases.setup]
nixPkgs = ["nodejs_20", "npm-10_x", "openssl"]

[phases.install]
cmds = ["npm install --legacy-peer-deps"]

[phases.build]
cmds = ["echo 'Workers dont need build'"]

[start]
cmd = "npm run worker"
